
@{
    ViewBag.Title = "Calender";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script>
    $(document).ready(function () {
        $('#calendar').fullCalendar({
            theme: true,
            header: {
                left: 'prev,next today',
                center: 'title',
                right: 'month,agendaWeek,agendaDay'
            },
            //defaultDate: '2016-06-12',
            editable: true,
            eventLimit: true, // allow "more" link when too many events
            events: '/Calender/GetDiaryEvents/',
            eventClick: function (calEvent, jsEvent, view) {
                evetclikdeid = calEvent.id;
                fullinfo(calEvent.id);
            },            
        });
    });
    function fullinfo(id) {
        eventcurrentid = id;
        $.get('/Calender/GetFullEvent?EventId=' + id, function (data) {
            if (data != "NA") {
                $("#lblEventDescription").html(data.EventTitle);
                $("#lblEventDate").html(data.EventDate + " " + data.EventTime);
                $("#lblEventDuration").html(data.EventDuration);
                $("#lblLocationName").html(data.EventLocation);
                $("#lblEventOwnerName").html(data.EventOwnerName);
                $("#lblEventDescription3").html(data.EventDescription);
             
                $("#myModal2").modal('show');
            } else {
                alert("We are unable to find the Event");
            }
        });
    }
</script>

<div id='calendar'></div>

<div id="myModal2" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Event Details</h4>
            </div>
            <div class="modal-body">
                <table class="table table-bordered">
                    <tr>
                        <td>Title</td>
                        <td><span id="lblEventDescription"></span></td>
                    </tr>
                    <tr>
                        <td>Event Date & Time</td>
                        <td><span id="lblEventDate"></span></td>
                    </tr>
                    <tr>
                        <td>Event Duration</td>
                        <td><span id="lblEventDuration"></span></td>
                    </tr>


                    <tr>
                        <td>Location</td>
                        <td><span id="lblLocationName"></span></td>
                    </tr>
                    <tr>
                        <td>Event OwnerName</td>
                        <td><span id="lblEventOwnerName"></span></td>
                    </tr>
                    <tr>
                        <td>Description</td>
                        <td><span id="lblEventDescription3"></span></td>
                    </tr>                    
                </table>
            </div>
            <div class="modal-footer">
              
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>